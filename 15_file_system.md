## 15-1. 파일과 디렉터리
* 파일 시스템(file system)  
  : 파일과 디렉터리를 관리하는 운영체제 내의 프로그램
* 파일  
  : 보조기억장치에 저장된 관련 정보의 집합
  - 의미있고 관련 있는 정보를 모은 논리적 단위
  - 파일을 이루는 정보 + 파일을 실행하기 위한 정보 + 부가 정보(속성, 메타 데이터)
  - 파일의 속성  
    ![image](https://github.com/a0lim-java/cs/assets/104348646/a7631bfa-9f29-402f-bbbc-c69f947af4df)  
* 디렉터리
  - 윈도우에서는 폴더(folder)
  - 트리 구조 디렉터리: 여러 계층으로 파일 및 폴더를 관리
  - 최상위 디렉터리(= 루트 디렉터리), 서브 디렉터리
  - ![image](https://github.com/a0lim-java/cs/assets/104348646/0236d5a5-2787-4295-b875-244095f0070b)
* 경로
  : 디렉터리를 이용해 파일/디렉터리의 위치, 이름까지 특정 지을 수 있는 정보
  - 절대 경로
    : 루트 디렉터리에서 자기 자신까지 이르는 고유한 경로
    + ex. /home/a0/a.sh
  - 상대 경로
    : 현재 디렉터리에서 자기 자신까지 이르는 경로
    + ex. guest/d.jpg
* 디렉터리 엔트리
  - 파일 내부: 파일과 관련된 정보
  - 디렉터리 내부: 해당 디렉터리에 담겨 있는 대상과 관련된 정보
    + 디렉터리에 포함된 대상의 이름
    + 그 대상이 보조기억장치 내에 저장된 위치(를 유추할 수 있는 정보)  
    ![image](https://github.com/a0lim-java/cs/assets/104348646/505e73be-220a-4308-80f5-3ab201d4b687)
    ![image](https://github.com/a0lim-java/cs/assets/104348646/94537d1d-0bab-4503-b96a-0a57eb45a4a8)  

## 15-2. 파일 시스템
* 파티셔닝  
  : 저장 장치의 논리적인 영역을 구획하는 작업
* 포매팅
  : 파일 시스템을 설정해서 어떤 방식으로 파일을 관리할지 결정하고, 새로운 데이터를 쓸 준비하는 작업
  - 파일 시스템에 여러 종류가 존재함
  - 파티션마다 다른 파일 시스템 설정 가능
  - 파티셔밍, 포매팅이 완료되면 파일과 디렉터리 생성이 가능해짐
* 파일 할당 방법
  - 포매팅까지 끝난 하드 디스크에 파일을 저장
  - 운영체제는 파일/디렉터리를 블록 단위로 읽고 씀(하나의 파일이 여러 블록에 걸쳐 저장됨)
  - 연속 할당
  - 불연속 할당
    + 연결 할당
    + 색인 할당
* 연속 할당  
  : 보조기억장치 내 연속적인 블록에 파일 할당
  - 파일의 첫 번째 블록 주소 & 블록 단위 길이 명시
  - 외부 단편화 야기 가능  
  ![image](https://github.com/a0lim-java/cs/assets/104348646/89a73443-a77a-40a0-ac74-a52cd638cba3)  
* 불연속 할당
  - 연결 할당
    : 각 블록의 일부에 다음 불록의 주소를 저장하여, 각 블록이 다음 블록을 가리키는 형태로 할당
    + 데이터 블록을 연결 리스트로 관리
    + 파일이 여러 블록에 흩어져 저장되어도 무방함
    + 디렉터리 엔트리: 파일 이름 & 첫 번째 블록 주소 & 길이
    + 단점: 반드시 첫 번째 블록부터 읽어야 함, 오류 발생 시 해당 블록 이후 블록은 접근이 어려움  
      ![image](https://github.com/a0lim-java/cs/assets/104348646/d10a2799-23c7-4dee-8852-df8eee8118b8)  
  - 색인 할당
    : 파일의 모든 블록 주소를 색인 블록이라는 하나의 블록에 모아 관리하는 방식
    + 파일 내 임의의 위치에 접근하기 용이
    + 디렉터리 엔트리: 파일 이름 & 색인 블록  
      ![image](https://github.com/a0lim-java/cs/assets/104348646/f6c56944-7865-45c9-aa74-027c19487723)  
      ![image](https://github.com/a0lim-java/cs/assets/104348646/987f139f-cc73-4e83-86c1-3321fe9ce863)  
* 파일 시스템
  - FAT(File Allocation Table) 파일 시스템
    + 연결 할당 기반 파일 시스템
    + 연결 할당의 단점을 보완  
      ![image](https://github.com/a0lim-java/cs/assets/104348646/e5691bc8-2261-4577-b5e1-6c08239240ba)  
    + 파티션: 예약 영역, FAT 영역, 루트 디렉터리 영역, 데이터 영역
    + 디렉터리 엔트리: 파일 이름, 확장자, 속성, 예약 영역, 생성 시간, 마지막 접근 시간, 마지막 수정 시간, 시작 블록, 파일 크기
    + ex) /home/minchul/a.sh를 읽는 과정: 9 -> 8 -> 11 -> 13  
      ![image](https://github.com/a0lim-java/cs/assets/104348646/690ada96-8527-4d90-bd96-74053fec06ff)  
  - 유닉스 파일 시스템
    + 색인 할당 기반 파일 시스템
    + 색인 블록 = i-node
      + 파일 속성 정보와 16개의 블록 주소 저장 가능  
        ![image](https://github.com/a0lim-java/cs/assets/104348646/2fd7a788-5743-4add-8130-ed5b45f09a5e)  
      1. 블록 주소 중 12개에는 직접 블록 주소 저장
      2. 1번으로 충분하지 않다면, 13번째 주소에 단일 간접 블록 주소 저장
      3. 2번으로 충분하지 않다면, 14번째 주소에 이중 간접 블록 주소 저장
      4. 3번으로 충분하지 않다면, 15번째 주소에 삼중 간접 블록 주소 저장  
         ![image](https://github.com/a0lim-java/cs/assets/104348646/bb0083b4-7d2a-4e4f-bc9d-f2b3f97ff750)
    + 디렉터리 엔트리: i-node 번호, 파일 이름  -> 98, 12, 13  
      ![image](https://github.com/a0lim-java/cs/assets/104348646/83e106e3-9553-42f0-905e-c1a8eda9719d)  









